<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Open Interwebs Utility</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            color: #333;
            margin: 0;
            padding: 0;
        }
        .header {
            background-color: #007BFF;
            color: white;
            padding: 20px;
            text-align: center;
        }
        .container {
            max-width: 800px;
            margin: 20px auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .info {
            margin-bottom: 10px;
        }
        .corrupt {
            color: red;
        }
        .button {
            display: block;
            margin: 20px auto;
            padding: 10px 20px;
            font-size: 16px;
            color: white;
            background-color: #007BFF;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .button:disabled {
            background-color: #ccc;
        }
        .utilities {
            margin: 20px 0;
            text-align: center;
        }
        .utility-button {
            margin: 5px;
            padding: 10px 15px;
            font-size: 14px;
            color: white;
            background-color: #28A745;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .loading-spinner {
            display: none;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 2s linear infinite;
            margin: 0 auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .progress-bar {
            width: 100%;
            background-color: #f3f3f3;
            border-radius: 5px;
            overflow: hidden;
            margin-top: 20px;
        }
        .progress-bar-fill {
            height: 20px;
            width: 0;
            background-color: #28a745;
            animation: progress 5s linear infinite;
        }
        @keyframes progress {
            0% { width: 0; }
            50% { width: 100%; }
            100% { width: 0; }
        }
        .intro-text {
            margin-bottom: 20px;
            font-style: italic;
            text-align: justify;
        }
        .advertisement {
            margin-top: 30px;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 5px;
            background-color: #f9f9f9;
        }
        .advertisement h3 {
            margin-top: 0;
        }
        .advertisement img {
            max-width: 100%;
            border-radius: 5px;
        }
        .form-container {
            display: none;
            margin-top: 20px;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 5px;
            background-color: #f9f9f9;
        }
        .fly-away {
            animation: flyAway 5s forwards;
        }
        @keyframes flyAway {
            0% { transform: translateY(0); opacity: 1; }
            100% { transform: translateY(-2000px); opacity: 0; }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Open Interwebs Utility</h1>
    </div>
    <div class="container">
        <div class="intro-text">
            <p>Vítejte v Open Interwebs, nejlepší službě na internetu pro nástroje pro vaši síť. Ať už potřebujete zkontrolovat rychlost internetu, spustit diagnostiku nebo vymazat mezipaměť, máme pro vás vše. Prozkoumejte nekonečné možnosti digitálního světa s Open Interwebs Utility!</p>
        </div>
        <h2>Systémové informace:</h2>
        <div class="info" id="os">Operating System: Detecting...</div>
        <div class="info" id="browser">Browser: Detecting...</div>
        <div class="info" id="ip">IP Address: Detecting...</div>
        <div class="info" id="language">Language: Detecting...</div>
        <div class="info" id="memory">Memory: Detecting...</div>
        <div class="info" id="speed">Internet Speed: Detecting...</div>
        <div class="utilities">
            <button class="utility-button" id="utility1">Zkontrolovat rychlost internetu</button>
            <button class="utility-button" id="utility2">Aktualizovat</button>
            <button class="utility-button" id="utility3">Vymazat mezipamět</button>
            <button class="utility-button" id="utility4">Otestovat ping</button>
            <button class="utility-button" id="utility5">Zkontrolvat zabezepčení</button>
        </div>
        <div class="loading-spinner" id="loadingSpinner"></div>
        <button class="button" id="startButton">Spustit diagnostiku sítě</button>
        <button class="button" id="stopButton" disabled>Zastavit diagnostiku</button>
        <div class="progress-bar">
            <div class="progress-bar-fill" id="progressBarFill"></div>
        </div>
        <div class="advertisement">
            <h3>Exkluzivní nabídka!</h3>
            <p>Upgradujte své internetové zkušenosti s InterWeb Plus! Bleskové rychlosti, neomezená data a prémiová zákaznická podpora. Zavolejte nyní a získejte 50% slevu na první měsíc!</p>
            <img src="materialxd/reklama.png" alt="InterWeb Plus">
            <button class="button" id="cheaperInternetButton">Chci levnější internet</button>
            <div class="form-container" id="formContainer">
                <h3>Zařídíme vám lepší internet</h3>
                <form id="cheaperInternetForm">
                    <label for="name">Celé jméno:</label>
                    <input type="text" id="name" name="name" required><br><br>
                    <label for="email">Email:</label>
                    <input type="email" id="email" name="email" required><br><br>
                    <label for="phone">Mobil:</label>
                    <input type="tel" id="phone" name="phone" required><br><br>
                    <button type="submit" class="button">Odeslat</button>
                </form>
            </div>
        </div>
    </div>

    <script>
        const stopButton = document.getElementById('stopButton');
        const startButton = document.getElementById('startButton');
        const utilityButtons = document.querySelectorAll('.utility-button');
        const loadingSpinner = document.getElementById('loadingSpinner');
        const cheaperInternetButton = document.getElementById('cheaperInternetButton');
        const formContainer = document.getElementById('formContainer');
        const cheaperInternetForm = document.getElementById('cheaperInternetForm');
        const systemInfoContainer = document.querySelector('.container');
        let corruptionIntervals = [];

        function getBrowserInfo() {
            return navigator.userAgent;
        }

        function getOSInfo() {
            const platform = navigator.platform;

            if (platform.startsWith('Win')) return 'Windows';
            if (platform.startsWith('Mac')) return 'MacOS';
            if (platform.startsWith('Linux')) return 'Linux';
            if (platform.startsWith('iPhone') || platform.startsWith('iPad')) return 'iOS';
            if (platform.startsWith('Android')) return 'Android';

            return 'Unknown';
        }

        function getLanguage() {
            return navigator.language || navigator.userLanguage;
        }

        function getMemory() {
            if (navigator.deviceMemory) {
                return navigator.deviceMemory + ' GB';
            } else {
                return 'Unavailable';
            }
        }

        async function getIPAddress() {
            try {
                const response = await fetch('https://api.ipify.org?format=json');
                const data = await response.json();
                return data.ip;
            } catch {
                return 'Unavailable';
            }
        }

        async function getInternetSpeed() {
            try {
                const startTime = Date.now();
                const response = await fetch('https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_272x92dp.png');
                const endTime = Date.now();
                const duration = (endTime - startTime) / 1000;
                const fileSize = response.headers.get('Content-Length') / (1024 * 1024); // in MB
                const speed = (fileSize / duration).toFixed(2); // in Mbps
                return speed + ' Mbps';
            } catch {
                return 'Unavailable';
            }
        }

        function randomizeText(elementId, values) {
            const element = document.getElementById(elementId);
            const originalText = element.textContent;

            let interval = setInterval(() => {
                element.textContent = values[Math.floor(Math.random() * values.length)];
                element.classList.add('corrupt');
            }, 500);

            corruptionIntervals.push({ interval, element, originalText });
        }

        function startCorruption() {
            randomizeText('os', ['Operating System: Windows', 'Operating System: MacOS', 'Operating System: Linux', 'Operating System: iOS', 'Operating System: Android', 'Operating System: Unknown']);
            randomizeText('browser', ['Browser: Chrome', 'Browser: Firefox', 'Browser: Safari', 'Browser: Edge', 'Browser: Opera', 'Browser: Unknown']);
            randomizeText('ip', ['IP Address: 192.168.0.1', 'IP Address: 10.0.0.1', 'IP Address: 172.16.0.1', 'IP Address: 127.0.0.1', 'IP Address: 255.255.255.255']);
            randomizeText('language', ['Language: en-US', 'Language: fr-FR', 'Language: de-DE', 'Language: es-ES', 'Language: zh-CN', 'Language: Unknown']);
            randomizeText('memory', ['Memory: 2 GB', 'Memory: 256 GB', 'Memory: 8 GB', 'Memory: 16 GB', 'Memory: 32 GB', 'Memory: Unavailable', 'Memory: 64 GB', 'Memory: 128 GB']);
            randomizeText('speed', ['Internet Speed: 0.5 Mbps', 'Internet Speed: 1.2 Mbps', 'Internet Speed: 15.8 Mbps', 'Internet Speed: 100 Mbps', 'Internet Speed: 300 Mbps', 'Internet Speed: Unavailable']);
            randomColorChange();
            randomPopUp();
            pageGlitch();
            morseCodeBeep();
            easterEgg();
            upsideDownText();
            
            startButton.disabled = true;
            stopButton.disabled = false;
        }

        function stopCorruption() {
            corruptionIntervals.forEach(({ interval, element, originalText }) => {
                clearInterval(interval);
            });
            corruptionIntervals = [];
            startButton.disabled = false;
            stopButton.disabled = true;
        }

        function funnyEffects(effectId) {
            switch (effectId) {
                case 1:
                    loadingSpinner.style.display = 'block';
                    break;
                case 2:
                    document.body.style.transform = 'rotate(180deg)';
                    break;
                case 3:
                    document.body.style.fontFamily = 'Comic Sans MS';
                    break;
                case 4:
                    document.querySelectorAll('.info').forEach(el => el.style.color = 'blue');
                    break;
                case 5:
                    document.body.style.fontSize = '2em';
                    break;
                default:
                    alert('Nástroj nefunguje!');
            }
        }

        function randomColorChange() {
            setInterval(() => {
                document.body.style.backgroundColor = '#' + Math.floor(Math.random()*16777215).toString(16);
            }, 10000);
        }

        function randomPopUp() {
            setInterval(() => {
                alert('Náš typ: vypněte svoje zařízení a ušetřete energii!');
            }, 40000);
        }

        function pageGlitch() {
            const body = document.body;
            setInterval(() => {
                body.style.transform = 'skew(10deg, 10deg)';
                setTimeout(() => body.style.transform = 'skew(0, 0)', 500);
            }, 11000);
        }

        function morseCodeBeep() {
            const audio = new Audio('https://upload.wikimedia.org/wikipedia/commons/8/82/Wikimorse.ogg');
            setInterval(() => {
                audio.play();
            }, 15000);
        }

        function easterEgg() {
            document.body.addEventListener('click', (event) => {
                if (event.target.tagName === 'BODY') {
                    alert('Ahoj jak se máš (:');
                }
            });
        }

        function upsideDownText() {
            setInterval(() => {
                document.querySelectorAll('.info').forEach(el => el.style.transform = 'rotate(180deg)');
                setTimeout(() => {
                    document.querySelectorAll('.info').forEach(el => el.style.transform = 'rotate(0)');
                }, 2000);
            }, 14000);
        }

        function showForm() {
            formContainer.style.display = 'block';
        }

        cheaperInternetButton.addEventListener('click', showForm);

        cheaperInternetForm.addEventListener('submit', function(event) {
            event.preventDefault();
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;

            const infoText = `Name: ${name}, Email: ${email}, Phone: ${phone}`;
            const newInfo = document.createElement('div');
            newInfo.classList.add('info');
            newInfo.textContent = infoText;
            systemInfoContainer.appendChild(newInfo);

            formContainer.classList.add('fly-away');
            setTimeout(() => {
                formContainer.style.display = 'none';
                formContainer.classList.remove('fly-away');
            }, 5000);
        });

        stopButton.addEventListener('click', stopCorruption);
        startButton.addEventListener('click', startCorruption);

        utilityButtons.forEach((button, index) => {
            button.addEventListener('click', () => funnyEffects(index + 1));
        });

        document.addEventListener('DOMContentLoaded', async () => {
            document.getElementById('os').textContent = 'Operating System: ' + getOSInfo();
            document.getElementById('browser').textContent = 'Browser: ' + getBrowserInfo();
            document.getElementById('language').textContent = 'Language: ' + getLanguage();
            document.getElementById('memory').textContent = 'Memory: ' + getMemory();
            document.getElementById('ip').textContent = 'IP Address: ' + await getIPAddress();
            document.getElementById('speed').textContent = 'Internet Speed: ' + await getInternetSpeed();
        });
    </script>
</body>
</html>
